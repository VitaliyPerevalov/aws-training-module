
---

# üìç –ü–ª–∞–Ω –æ–±—É—á–µ–Ω–∏—è: Subnet, IGW –∏ NAT GW

---

## üîπ –ß–∞—Å—Ç—å 1. Subnet (–ü–æ–¥—Å–µ—Ç–∏)

### –ß—Ç–æ —ç—Ç–æ:

–ü–æ–¥—Å–µ—Ç—å = —á–∞—Å—Ç—å VPC (CIDR-–±–ª–æ–∫), –ø—Ä–∏–≤—è–∑–∞–Ω–Ω–∞—è –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π **Availability Zone (AZ)**.

### –¢–µ–æ—Ä–∏—è:

* **Public Subnet** ‚Üí –∏–º–µ–µ—Ç –º–∞—Ä—à—Ä—É—Ç –≤ Internet Gateway.
* **Private Subnet** ‚Üí –Ω–µ –∏–º–µ–µ—Ç –ø—Ä—è–º–æ–≥–æ –≤—ã—Ö–æ–¥–∞ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç NAT Gateway/Instance.
* –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä = /28 (16 IP), –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π = /16 (65k IP).
* AWS —Ä–µ–∑–µ—Ä–≤–∏—Ä—É–µ—Ç **5 IP-–∞–¥—Ä–µ—Å–æ–≤** –≤ –∫–∞–∂–¥–æ–π –ø–æ–¥—Å–µ—Ç–∏.

### –ü—Ä–∞–∫—Ç–∏–∫–∞:

1. –°–æ–∑–¥–∞—Ç—å VPC `10.0.0.0/16`.
2. –î–æ–±–∞–≤–∏—Ç—å:

   * Public Subnet ‚Üí `10.0.1.0/24`.
   * Private Subnet ‚Üí `10.0.2.0/24`.
3. –ó–∞–ø—É—Å—Ç–∏—Ç—å EC2 –≤ –∫–∞–∂–¥–æ–π –ø–æ–¥—Å–µ—Ç–∏ –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø:

   * Public ‚Üí –¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ (—á–µ—Ä–µ–∑ IGW).
   * Private ‚Üí –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞–ø—Ä—è–º—É—é.

---

## üîπ –ß–∞—Å—Ç—å 2. Internet Gateway (IGW)

### –ß—Ç–æ —ç—Ç–æ:

IGW = –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã–π —à–ª—é–∑ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è VPC –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É.

### –¢–µ–æ—Ä–∏—è:

* –ü—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç—Å—è –∫ VPC.
* –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è **Public Subnets**.
* –†–∞–±–æ—Ç–∞–µ—Ç –≤–º–µ—Å—Ç–µ —Å Route Table: `0.0.0.0/0 ‚Üí IGW`.
* –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç IPv4 –∏ IPv6.

### –ü—Ä–∞–∫—Ç–∏–∫–∞:

1. –°–æ–∑–¥–∞—Ç—å Internet Gateway.
2. –ü—Ä–∏–≤—è–∑–∞—Ç—å IGW –∫ VPC.
3. –í Route Table Public Subnet –ø—Ä–æ–ø–∏—Å–∞—Ç—å:

   * `0.0.0.0/0 ‚Üí IGW`.
4. –ó–∞–ø—É—Å—Ç–∏—Ç—å EC2 –≤ Public Subnet –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å SSH-–¥–æ—Å—Ç—É–ø –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞.

---

## üîπ –ß–∞—Å—Ç—å 3. NAT Gateway (NAT GW)

### –ß—Ç–æ —ç—Ç–æ:

NAT (Network Address Translation) Gateway = —É–ø—Ä–∞–≤–ª—è–µ–º—ã–π —Å–µ—Ä–≤–∏—Å –¥–ª—è –≤—ã—Ö–æ–¥–∞ Private Subnet –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç.

### –¢–µ–æ—Ä–∏—è:

* –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è **–≤ Public Subnet**.
* –ü–æ–ª—É—á–∞–µ—Ç **Elastic IP** (–ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π –ø—É–±–ª–∏—á–Ω—ã–π –∞–¥—Ä–µ—Å).
* Private Subnet ‚Üí NAT GW ‚Üí IGW ‚Üí –ò–Ω—Ç–µ—Ä–Ω–µ—Ç.
* –ü—Ä–æ–ø—É—Å–∫–∞–µ—Ç **–∏—Å—Ö–æ–¥—è—â–∏–π —Ç—Ä–∞—Ñ–∏–∫**, –Ω–æ –Ω–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤—Ö–æ–¥—è—â–∏–π.
* –í–∞—Ä–∏–∞–Ω—Ç—ã:

  * **NAT Gateway** (managed, –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã–π, \$\$).
  * **NAT Instance** (EC2 —Å NAT-–∫–æ–Ω—Ñ–∏–≥–æ–º, –¥–µ—à–µ–≤–ª–µ, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏).

### –ü—Ä–∞–∫—Ç–∏–∫–∞:

1. –°–æ–∑–¥–∞—Ç—å NAT Gateway –≤ Public Subnet, –ø—Ä–∏–≤—è–∑–∞—Ç—å Elastic IP.
2. –í Route Table Private Subnet –¥–æ–±–∞–≤–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç:

   * `0.0.0.0/0 ‚Üí NAT GW`.
3. –ó–∞–ø—É—Å—Ç–∏—Ç—å EC2 –≤ Private Subnet.
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å: –¥–æ—Å—Ç—É–ø –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –µ—Å—Ç—å (`yum update`, `curl google.com`), –Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∏–∑–≤–Ω–µ –∫ EC2 –Ω–µ–ª—å–∑—è.

---

## üîπ –ß–∞—Å—Ç—å 4. Advanced —Å—Ü–µ–Ω–∞—Ä–∏–∏

### Subnet Best Practices:

* –î–µ—Ä–∂–∞—Ç—å Public –∏ Private Subnet –≤ –∫–∞–∂–¥–æ–π AZ.
* –ú–∏–Ω–∏–º—É–º 2 AZ –¥–ª—è –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏.
* –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Private Subnets –¥–ª—è –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö –∏ backend.

### IGW Best Practices:

* –¢–æ–ª—å–∫–æ –æ–¥–∏–Ω IGW –Ω–∞ VPC.
* –í—Å–µ –ø—É–±–ª–∏—á–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã (EC2, ALB) ‚Üí Public Subnet —á–µ—Ä–µ–∑ IGW.

### NAT GW Best Practices:

* –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å NAT GW **–≤ –∫–∞–∂–¥–æ–π AZ** (–∏–Ω–∞—á–µ SPOF).
* –î–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å NAT GW –Ω–∞ NAT Instance (–Ω–æ —Ç–µ—Ä—è–µ—Ç—Å—è HA).
* –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å CloudWatch –º–µ—Ç—Ä–∏–∫–∏: `BytesIn/Out`, `PacketsDropCount`.

üìå –ü—Ä–∞–∫—Ç–∏–∫–∞:

* –ü–æ—Å—Ç—Ä–æ–∏—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É:

  * Public Subnet: ALB, Bastion Host.
  * Private Subnet: EC2 + RDS.
  * NAT GW –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π EC2.

---
