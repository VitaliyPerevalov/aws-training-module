
---

# üìç –ü–ª–∞–Ω –æ–±—É—á–µ–Ω–∏—è: VPC Flow Logs

---

## üîπ –≠—Ç–∞–ø 1. –û—Å–Ω–æ–≤—ã –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ

üéØ –¶–µ–ª—å: –ø–æ–Ω—è—Ç—å, –∑–∞—á–µ–º –Ω—É–∂–Ω—ã Flow Logs.

* –°–ª—É–∂–∞—Ç –¥–ª—è **–∑–∞–ø–∏—Å–∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –æ —Å–µ—Ç–µ–≤–æ–º —Ç—Ä–∞—Ñ–∏–∫–µ** –≤ VPC/Subnet/ENI.
* –ó–∞–ø–∏—Å—ã–≤–∞—é—Ç:

  * –∏—Å—Ç–æ—á–Ω–∏–∫/–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ IP,
  * –ø–æ—Ä—Ç—ã, –ø—Ä–æ—Ç–æ–∫–æ–ª,
  * –¥–µ–π—Å—Ç–≤–∏–µ (ACCEPT/REJECT),
  * –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞–∫–µ—Ç–æ–≤ –∏ –±–∞–π—Ç–æ–≤.
* –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è:

  * –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ (–ø–æ—á–µ–º—É –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞),
  * –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (–∞–Ω–∞–ª–∏–∑ –∞—Ç–∞–∫),
  * –∫–æ–º–ø–ª–∞–µ–Ω—Å–∞ (–∞—É–¥–∏—Ç —Ç—Ä–∞—Ñ–∏–∫–∞).

üìå –ü—Ä–∞–∫—Ç–∏–∫–∞:

* –í–∫–ª—é—á–∏—Ç—å Flow Logs –¥–ª—è VPC.
* –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ CloudWatch Logs.

---

## üîπ –≠—Ç–∞–ø 2. –£—Ä–æ–≤–Ω–∏ –≤–∫–ª—é—á–µ–Ω–∏—è

üéØ –¶–µ–ª—å: –æ—Å–≤–æ–∏—Ç—å —Ä–∞–∑–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è.

* –ú–æ–∂–Ω–æ –≤–∫–ª—é—á–∞—Ç—å –¥–ª—è:

  * **VPC** ‚Üí –≤—Å–µ —Ä–µ—Å—É—Ä—Å—ã –≤–Ω—É—Ç—Ä–∏.
  * **Subnet** ‚Üí –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–∞—è –ø–æ–¥—Å–µ—Ç—å.
  * **ENI** ‚Üí –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Å–µ—Ç–µ–≤–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, EC2).

üìå –ü—Ä–∞–∫—Ç–∏–∫–∞:

* –í–∫–ª—é—á–∏—Ç—å Flow Logs –¥–ª—è –æ–¥–Ω–æ–π Subnet.
* –í–∫–ª—é—á–∏—Ç—å Flow Logs –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ ENI (EC2).

---

## üîπ –≠—Ç–∞–ø 3. –í—ã–≤–æ–¥ –ª–æ–≥–æ–≤

üéØ –¶–µ–ª—å: –ø–æ–Ω—è—Ç—å, –∫—É–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ.

* –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ destinations:

  * **CloudWatch Logs** (–¥–ª—è –∞–Ω–∞–ª–∏–∑–∞).
  * **S3** (–¥–ª—è –¥–æ–ª–≥–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è).
  * **Kinesis Firehose ‚Üí OpenSearch/SIEM** (–¥–ª—è real-time –∞–Ω–∞–ª–∏–∑–∞).

üìå –ü—Ä–∞–∫—Ç–∏–∫–∞:

* –°–æ—Ö—Ä–∞–Ω–∏—Ç—å Flow Logs –≤ S3.
* –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Firehose ‚Üí OpenSearch.

---

## üîπ –≠—Ç–∞–ø 4. –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤

üéØ –¶–µ–ª—å: –Ω–∞—É—á–∏—Ç—å—Å—è —á–∏—Ç–∞—Ç—å –∑–∞–ø–∏—Å–∏.

* –ü–æ–ª—è Flow Logs: version, account-id, interface-id, srcaddr, dstaddr, srcport, dstport, protocol, action, log-status.
* –ó–Ω–∞—á–µ–Ω–∏–µ **ACCEPT/REJECT**.
* –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CloudWatch Logs Insights –¥–ª—è –ø–æ–∏—Å–∫–∞:

  ```sql
  fields srcAddr, dstAddr, action
  | filter action="REJECT"
  | stats count(*) by srcAddr
  ```

üìå –ü—Ä–∞–∫—Ç–∏–∫–∞:

* –ù–∞–π—Ç–∏ –≤—Å–µ REJECT-–∑–∞–ø—Ä–æ—Å—ã –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 24 —á–∞—Å–∞.
* –ü–æ—Å—Ç—Ä–æ–∏—Ç—å –≥—Ä–∞—Ñ–∏–∫ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤.

---

## üîπ –≠—Ç–∞–ø 5. Advanced

üéØ –¶–µ–ª—å: –æ—Å–≤–æ–∏—Ç—å production-—Å—Ü–µ–Ω–∞—Ä–∏–∏.

* –í–∫–ª—é—á–∏—Ç—å Flow Logs –¥–ª—è Private Subnet ‚Üí –∞–Ω–∞–ª–∏–∑ –æ–±—Ä–∞—â–µ–Ω–∏–π –∫ NAT GW.
* –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å GuardDuty (–æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —É–≥—Ä–æ–∑).
* –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Security Hub.

üìå –ü—Ä–∞–∫—Ç–∏–∫–∞:

* –ù–∞—Å—Ç—Ä–æ–∏—Ç—å GuardDuty –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ Flow Logs.
* –ù–∞–π—Ç–∏ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ –†–æ—Å—Å–∏—é/–ö–∏—Ç–∞–π).

---

## üîπ –≠—Ç–∞–ø 6. –°—Ç–æ–∏–º–æ—Å—Ç—å –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

üéØ –¶–µ–ª—å: —É—á–∏—Ç—ã–≤–∞—Ç—å —Ä–∞—Å—Ö–æ–¥—ã.

* –°—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞ —Å–±–æ—Ä –ª–æ–≥–æ–≤ + —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ S3/CloudWatch.
* –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:

  * —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –ø–æ–ª—è,
  * —Ö—Ä–∞–Ω–∏—Ç—å "—Å—ã—Ä—ã–µ" –ª–æ–≥–∏ –≤ S3 Glacier,
  * –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Insights —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.

üìå –ü—Ä–∞–∫—Ç–∏–∫–∞:

* –†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å —Ö—Ä–∞–Ω–µ–Ω–∏—è 100GB Flow Logs –≤ S3.


---

# üìç –ü–ª–∞–Ω –æ–±—É—á–µ–Ω–∏—è: VPC Peering

---

## üîπ –≠—Ç–∞–ø 1. –û—Å–Ω–æ–≤—ã –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ

üéØ –¶–µ–ª—å: –ø–æ–Ω—è—Ç—å, –∑–∞—á–µ–º –Ω—É–∂–µ–Ω Peering.

* **VPC Peering** = –ø—Ä–∏–≤–∞—Ç–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –º–µ–∂–¥—É –¥–≤—É–º—è VPC.
* –†–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ AWS backbone (–Ω–µ –∏–¥—ë—Ç —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç).
* –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç—Ä–∞—Ñ–∏–∫ IPv4 –∏ IPv6.
* –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è:

  * —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Ä–∞–∑–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π,
  * multi-account –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã,
  * —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è —Å—Ä–µ–¥—ã (prod/dev).

üìå –ü—Ä–∞–∫—Ç–∏–∫–∞:

* –°–æ–∑–¥–∞—Ç—å –¥–≤–∞ VPC: `10.0.0.0/16` –∏ `10.1.0.0/16`.

---

## üîπ –≠—Ç–∞–ø 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Peering

üéØ –¶–µ–ª—å: –Ω–∞—É—á–∏—Ç—å—Å—è –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å —Å–≤—è–∑—å.

* VPC Peering Request (–æ—Ç–ø—Ä–∞–≤–∫–∞ –∏ –ø—Ä–∏—ë–º).
* –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Route Tables ‚Üí —á—Ç–æ–±—ã —Ç—Ä–∞—Ñ–∏–∫ —à—ë–ª —á–µ—Ä–µ–∑ Peering.
* Security Groups ‚Üí —Ä–∞–∑—Ä–µ—à–∏—Ç—å —Ç—Ä–∞—Ñ–∏–∫ –º–µ–∂–¥—É VPC.

üìå –ü—Ä–∞–∫—Ç–∏–∫–∞:

* –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Peering –º–µ–∂–¥—É –¥–≤—É–º—è VPC.
* –î–æ–±–∞–≤–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç `10.1.0.0/16` –≤ Route Table VPC1 –∏ –Ω–∞–æ–±–æ—Ä–æ—Ç.
* –ü—Ä–æ–≤–µ—Ä–∏—Ç—å ping –º–µ–∂–¥—É EC2 –≤ —Ä–∞–∑–Ω—ã—Ö VPC.

---

## üîπ –≠—Ç–∞–ø 3. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è Peering

üéØ –¶–µ–ª—å: –ø–æ–Ω–∏–º–∞—Ç—å, –≥–¥–µ Peering –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç.

* –ù–µ—Ç —Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω–æ–≥–æ —Ä–æ—É—Ç–∏–Ω–≥–∞ (A‚ÜîB, B‚ÜîC ‚Üí A‚â†C).
* –ù–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ Overlapping CIDR (–µ—Å–ª–∏ —Å–µ—Ç–∏ –ø–µ—Ä–µ—Å–µ–∫–∞—é—Ç—Å—è).
* –õ–∏–º–∏—Ç –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É Peering-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 125).

üìå –ü—Ä–∞–∫—Ç–∏–∫–∞:

* –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Ç—Ä–∞–Ω–∑–∏—Ç–∏–≤–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç (A‚ÜíB‚ÜíC) –∏ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç.

---

## üîπ –≠—Ç–∞–ø 4. Cross-Account –∏ Cross-Region Peering

üéØ –¶–µ–ª—å: —Å–æ–µ–¥–∏–Ω—è—Ç—å —Ä–∞–∑–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã/—Ä–µ–≥–∏–æ–Ω—ã.

* Cross-account ‚Üí –º–æ–∂–Ω–æ —Å–æ–µ–¥–∏–Ω—è—Ç—å VPC –∏–∑ —Ä–∞–∑–Ω—ã—Ö AWS –∞–∫–∫–∞—É–Ω—Ç–æ–≤.
* Cross-region ‚Üí —á–µ—Ä–µ–∑ –ø—Ä–∏–≤–∞—Ç–Ω—ã–π AWS backbone (–Ω–∏–∑–∫–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞).

üìå –ü—Ä–∞–∫—Ç–∏–∫–∞:

* –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Cross-Region Peering (–Ω–∞–ø—Ä–∏–º–µ—Ä, `us-east-1` ‚Üî `eu-west-1`).

---

## üîπ –≠—Ç–∞–ø 5. Advanced —Å—Ü–µ–Ω–∞—Ä–∏–∏

üéØ –¶–µ–ª—å: –æ—Å–≤–æ–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –∫–µ–π—Å—ã.

* –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ multi-account (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Ç–¥–µ–ª—å–Ω—ã–π VPC –¥–ª—è shared services).
* –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Peering –¥–ª—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è dev ‚Üî prod –æ–∫—Ä—É–∂–µ–Ω–∏–π.
* –°—Ä–∞–≤–Ω–µ–Ω–∏–µ Peering vs Transit Gateway.

üìå –ü—Ä–∞–∫—Ç–∏–∫–∞:

* –ü–æ—Å—Ç—Ä–æ–∏—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É:

  * VPC1 = Web (Public Subnets).
  * VPC2 = DB (Private Subnets).
  * –°–æ–µ–¥–∏–Ω–∏—Ç—å –∏—Ö —á–µ—Ä–µ–∑ Peering.

---

## üîπ –≠—Ç–∞–ø 6. Security –∏ Monitoring

üéØ –¶–µ–ª—å: –Ω–∞—É—á–∏—Ç—å—Å—è –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å —Ç—Ä–∞—Ñ–∏–∫.

* –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ SG/NACL –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞.
* VPC Flow Logs ‚Üí –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ç—Ä–∞—Ñ–∏–∫–∞ –º–µ–∂–¥—É VPC.
* CloudTrail ‚Üí –∞—É–¥–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π Peering.

üìå –ü—Ä–∞–∫—Ç–∏–∫–∞:

* –í–∫–ª—é—á–∏—Ç—å Flow Logs –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –º–µ–∂-VPC —Ç—Ä–∞—Ñ–∏–∫–∞.
* –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–±—ã—Ç–∏—è —Å–æ–∑–¥–∞–Ω–∏—è/–∏–∑–º–µ–Ω–µ–Ω–∏—è Peering –≤ CloudTrail.

---

## üîπ –≠—Ç–∞–ø 7. –°—Ç–æ–∏–º–æ—Å—Ç—å –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

üéØ –¶–µ–ª—å: —É—á–∏—Ç—ã–≤–∞—Ç—å —Ä–∞—Å—Ö–æ–¥—ã.

* Peering —Å–∞–º –ø–æ —Å–µ–±–µ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π.
* –ü–ª–∞—Ç–∏—à—å —Ç–æ–ª—å–∫–æ –∑–∞ —Ç—Ä–∞—Ñ–∏–∫ –º–µ–∂–¥—É VPC (–ø–æ –æ–±—ã—á–Ω—ã–º Data Transfer —Ü–µ–Ω–∞–º).
* –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:

  * –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Peering –¥–ª—è –º–∞–ª—ã—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä,
  * –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Transit Gateway –¥–ª—è 10+ VPC.

üìå –ü—Ä–∞–∫—Ç–∏–∫–∞:

* –†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å –ø–µ—Ä–µ–¥–∞—á–∏ 1TB –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É —Ä–µ–≥–∏–æ–Ω–∞–º–∏ —á–µ—Ä–µ–∑ Peering.

---
